{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/GitHub/Shopping_Cart/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\n// Components\nimport Item from './Item/Item';\nimport Cart from './Cart/Cart';\nimport Drawer from '@mui/material/Drawer';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Grid from '@mui/material/Grid';\nimport Badge from '@mui/material/Badge';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\n// Styles\nimport { Wrapper, StyledButton } from \"./App.styles\";\n// Types\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getProducts = async () => {\n  return await (await fetch('https://fakestoreapi.com/products')).json();\n};\nconst App = () => {\n  _s();\n  const [cartOpen, setCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['products'],\n    queryFn: getProducts\n  });\n  console.log(data);\n  const getTotalItems = items => items.reduce((ack, item) => ack + item.amount, 0);\n  const handleAddToCart = clickedItem => {\n    setCartItems(prev => {\n      // Is the item already added in the cart?\n      const isItemInCart = prev.find(item => item.id === clickedItem.id);\n      if (isItemInCart) {\n        return prev.map(item => item.id === clickedItem.id ? {\n          ...item,\n          amount: item.amount + 1\n        } : item);\n      }\n      // First time the item is added\n      return [...prev, {\n        ...clickedItem,\n        amount: 1\n      }];\n    });\n  };\n  const handleRemoveFromCart = id => {\n    setCartItems(prev => prev.reduce((ack, item) => {\n      if (item.id === id) {\n        if (item.amount === 1) return ack;\n        return [...ack, {\n          ...item,\n          amount: item.amount - 1\n        }];\n      } else {\n        return [...ack, item];\n      }\n    }, []));\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 25\n  }, this);\n  // if(error) return <div>Something went wrong ...</div>;\n  if (error instanceof Error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 10\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Drawer, {\n      anchor: \"right\",\n      open: cartOpen,\n      onClose: () => setCartOpen(false),\n      children: /*#__PURE__*/_jsxDEV(Cart, {\n        cartItems: cartItems,\n        addToCart: handleAddToCart,\n        removeFromCart: handleRemoveFromCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n      onClick: () => setCartOpen(true),\n      children: /*#__PURE__*/_jsxDEV(Badge, {\n        badgeContent: getTotalItems(cartItems),\n        color: \"error\",\n        children: /*#__PURE__*/_jsxDEV(AddShoppingCartIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: data === null || data === void 0 ? void 0 : data.map(item => /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          sm: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          item: item,\n          handleAddToCart: handleAddToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"omAssJZsGI9OQ5r9YkIpl/j1bVU=\", false, function () {\n  return [useQuery];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useQuery","Item","Cart","Drawer","LinearProgress","Grid","Badge","AddShoppingCartIcon","Wrapper","StyledButton","jsxDEV","_jsxDEV","getProducts","fetch","json","App","_s","cartOpen","setCartOpen","cartItems","setCartItems","data","isLoading","error","queryKey","queryFn","console","log","getTotalItems","items","reduce","ack","item","amount","handleAddToCart","clickedItem","prev","isItemInCart","find","id","map","handleRemoveFromCart","fileName","_jsxFileName","lineNumber","columnNumber","Error","children","message","anchor","open","onClose","addToCart","removeFromCart","onClick","badgeContent","color","container","spacing","size","xs","sm","_c","$RefreshReg$"],"sources":["/Users/mac/Documents/GitHub/Shopping_Cart/src/App.tsx"],"sourcesContent":["\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\n// Components\nimport Item from './Item/Item';\nimport Cart from './Cart/Cart';\nimport Drawer from '@mui/material/Drawer';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Grid from '@mui/material/Grid';\nimport Badge from '@mui/material/Badge';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\n// Styles\nimport { Wrapper, StyledButton} from \"./App.styles\";\n// Types\nexport type CartItemType = {\n  id: number;\n  category: string;\n  description: string;\n  image: string;\n  price: number;\n  title: string;\n  amount: number;\n}\n\n\nconst getProducts = async(): Promise<CartItemType[]> => {\n  return await (await fetch('https://fakestoreapi.com/products')).json();\n}\n\nconst App =() => {\n  const [cartOpen, setCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([] as CartItemType[]);\n\n  const {data, isLoading, error} = useQuery<CartItemType[]>({\n    queryKey: ['products'],\n    queryFn: getProducts,\n    });\n\n  console.log(data);\n\n  const getTotalItems = (items: CartItemType[]) => \n    items.reduce((ack: number, item) => ack + item.amount, 0);\n\n  const handleAddToCart =(clickedItem: CartItemType) => {\n    setCartItems(prev => {\n        // Is the item already added in the cart?\n        const isItemInCart = prev.find(item => item.id === clickedItem.id);\n        \n\n        if(isItemInCart) {\n          return prev.map(item => \n            item.id === clickedItem.id \n            ? {...item, amount: item.amount + 1} \n            : item\n          );\n        }\n        // First time the item is added\n        return [...prev, {...clickedItem, amount: 1}];\n\n    });\n  };\n\n\n  const handleRemoveFromCart = (id:number) => {\n    setCartItems(prev =>\n      prev.reduce((ack, item) => {\n        if (item.id === id) {\n          if (item.amount === 1) return ack;\n          return [...ack, {...item, amount: item.amount - 1}];\n        } else {\n          return [...ack, item];\n         }\n      }, [] as CartItemType[])\n    );\n  };\n  \n\n  if (isLoading) return <LinearProgress />;\n  // if(error) return <div>Something went wrong ...</div>;\n  if (error instanceof Error) {\n  return <div>Error: {error.message}</div>;}\n\n\n  return (\n    <Wrapper>\n      \n      <Drawer anchor = \"right\" open={cartOpen} onClose={() => setCartOpen(false)}>\n        <Cart \n          cartItems={cartItems}\n          addToCart ={handleAddToCart}\n          removeFromCart ={handleRemoveFromCart} \n        />\n      </Drawer>\n      \n      <StyledButton onClick = {() => setCartOpen(true)}>\n        <Badge badgeContent={getTotalItems(cartItems)} color = \"error\">\n          <AddShoppingCartIcon />\n        </Badge>\n      </StyledButton>\n\n      <Grid container spacing={3}>\n        {data?.map(item => (\n          <Grid key = {item.id} size = {{ xs:12, sm:4 }}>\n            <Item item={item} handleAddToCart={handleAddToCart} />\n          </Grid>\n        ))}     \n      </Grid>\n\n    </Wrapper>\n  )\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}